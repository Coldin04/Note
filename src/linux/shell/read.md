---
title: 对话式脚本的基本操作
order: 3
tag:
  - Shell
  - Linux
  - 对话式脚本

---

很多时候，我们希望使用者在使用脚本的时候，能够像使用命令行一样，输入参数，然后脚本根据参数执行不同的操作。

这种脚本就是对话式脚本。

## 对话式脚本的实现

读取用户输入:

`read`命令可以实现读取用户输入，`read`命令的语法如下：

```bash
read [-pt] variable
```

脚本输出文字:

`echo`命令可以实现输出文字，`echo`命令的语法如下：

```bash
echo [-neE] string
```

## 对话式脚本的例子

下面是一个简单的对话式脚本的例子：

```bash
#!/bin/bash

# 询问用户的名字
echo "你的名字是什么？"
read name

# 打印问候消息
echo "你好，$name！"
```

下面是一个用shell脚本实现的数值相乘的例子：

```bash
#!/bin/bash
echo "请输入第一个数字："
read num1
read -p "请输入第二个数字：" num2
echo "两个数字分别为：$num1 和 $num2"
echo "两个数字相乘的结果为：$((num1*num2))"
```

## 对话式脚本的注意事项

1. `read`命令的`-p`参数可以用来指定提示信息，`-t`参数可以用来指定等待的时间，单位为秒。
2. `echo`命令的`-n`参数可以用来取消输出末尾的换行符，`-e`参数可以用来解释反斜杠转义的字符，`-E`参数可以用来取消解释反斜杠转义的字符。
3. `read`命令读取用户输入的时候，会自动去掉末尾的换行符，如果不想去掉，可以使用`-r`参数。
4. `read`命令读取用户输入的时候，会自动去掉开头和末尾的空白字符，如果不想去掉，可以使用`-a`参数。

